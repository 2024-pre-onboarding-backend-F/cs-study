# 4주차 두번째 : 네트워크 (이지원)

### 🎨 공통 질문
<details>
<summary><strong>전송계층과 데이터링크 계층 모두 신뢰성 관련 기능을 제공하는데, 어떤 차이가 있나요?</strong></summary>
<div markdown="1">
<ul>
<div>

전송 계층과 데이터링크 계층은 오류 제어, 흐름 제어, 데이터 순서화 등을 제공하는 면에서 비슷

<img width="500" alt="join" src="https://github.com/user-attachments/assets/7ba3f2fd-6d16-4278-bdc4-b92b5e77c38f" width="90%" height="100%">

**전송 계층**은 논리적으로 1:1 연결된 종단간 호스트 사이의 전송

**데이터링크 계층**은 물리적으로 1:1 연결된 호스트 사이의 전송으로, 직접 묶여있는 호스트-노드 또는 노드-노드 간의 전송
</div>
</ul>
</div>
</details>
<details>
<summary><strong>www.google.com 도메인을 브라우저에 입력했을 때 일어나는 일을 순차적으로 설명해주세요.</strong></summary>
<div markdown="1">
<ul>
<div>

<img width="550" alt="join" src="https://github.com/user-attachments/assets/cdd56e89-3d92-46cd-824f-c20065c7743c" width="90%" height="100%">

1. 사용자가 www.google.com을 브라우저 주소창에 입력

2. 브라우저는 DNS 서버에 도메인 네임으로 서버의 IP 주소를 찾음

3. IP 주소로 웹 서버에 TCP 3-way handshake로 연결 수립

4. TCP 연결이 완료되면 웹 서버로 HTTP 요청 메시지 보냄

5. 서버는 요청을 처리하고 HTTP 응답 메시지 보냄

6. 브라우저에 도착한 HTTP 응답 메시지는 웹 페이지 데이터로 변환되고, 웹 브라우저에 의해 출력
</div>
</ul>
</div>
</details>
<details>
<summary><strong>쿠키와 세션이 왜 필요한지, 어떻게 다른지 설명해주세요.</strong></summary>
<div markdown="1">
<ul>
<div>

### 쿠키와 세션의 필요성

- HTTP 프로토콜은 **비연결성**과 **무상태의** 특징이자 약점을 가지고 있음
⇒ server는 client가 누구인지 매번 확인해야 하는 번거로움 발생

### 쿠키(Cookie)

- 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일
- HTTP에서 클라이언트의 상태 정보를 클라이언트의 PC에 저장하였다가 필요시 정보를 참조하거나 재사용 가능
- 사이트 로그인 시 아이디 저장 여부, 팝업창 통해 이 창 다시 보지 않기 체크

### 세션(Session)

- 일정 시간 동안 같은 사용자(브라우저)로부터 들어오는 일련의 요구를 하나의 상태로 보고, 그 상태를 유지시키는 기술
- 방문자가 웹 서버에 접속해 있는 상태
- 화면 이동해도 로그인 유지

### 차이

|  | 쿠키(Cookie) | 세션(Session) |
| --- | --- | --- |
| 저장 위치 | 클라이언트(=접속자 PC) | 웹 서버 |
| 저장 형식 | text | Object |
| 만료 시점 | 쿠키 저장시 설정<br>(브라우저가 종료되도, 만료시점이 지나지 않으면<br>삭제되지 않음) | 브라우저 종료시 삭제<br>(기간 지정 가능) |
| 용량 제한 | 총 300개<br>하나의 도메인 당 20개<br>하나의 쿠키 당 4KB(=4096byte) | 서버가 허용하는 한 용량제한 없음 |
| 속도 | 세션보다 빠름 | 쿠키보다 느림 |
| 보안 | 세션보다 안좋음 | 쿠키보다 좋음 |

- **보안**
    - **쿠키**는 클라이언트 로컬에 저장되기 때문에 보안에 취약
    - **세션**은 session id만 쿠키로 저장하고 이를 구분해 서버에서 처리하기 때문에 보안성이 높음
- **속도**
    - **쿠키**는 정보가 쿠키에 있기 때문에 서버에 요청시 속도가 빠름
    - **세션**은 정보가 서버에 있기 때문에 처리가 요구되어 속도가 비교적 느림
</div>
</ul>
</div>
</details>
<details>
<summary><strong>세션 기반 인증과 토큰 기반 인증은 각각 어느 경우에 적합한지 설명해주세요.</strong></summary>
<div markdown="1">
<ul>
<div>

### 세션 기반 인증

- 클라이언트로부터 요청을 받으면 클라이언트의 상태 정보를 저장하므로 **Stateful**한 구조

  > **단점**
  > 
  > 1. 서버에 세션을 저장하기 때문에 사용자가 증가하면 서버에 과부하를 줄 수 있어 확장성 낮음
  > 
  > 2. 해커가 훔친 쿠키를 이용해 요청을 보내면 서버는 올바른 사용자가 보낸 요청인지 알 수 없음 (세션 하이재킹 공격)

### 토큰 기반 인증

- 상태 정보를 서버에 저장하지 않으므로 **Stateless**한 구조

### 적합한 상황

- 단일 도메인이라면 세션 기반 인증, 아니라면 토큰 기반 인증
⇒ 세션을 관리할 때 사용되는 쿠키는 단일 도메인 및 서브 도메인에서만 작동하도록 설계되어 있기 때문에 여러 도메인에서 관리하는 것은 어려움 (CORS 문제)

### ➕ CORS(교차 출처 리소스 공유)

- 도메인이 서로 다른 2개의 사이트가 데이터를 주고 받을 때 발생하는 문제
- ex) domain-a.com **↔** domain-b.com으로데이터 주고 받을 시 따로 설정하지 않으면 CORS 에러 발생
- 브라우저는 보안 상의 이유로 스크립트에서 시작한 교차 출처 HTTP 요청 제한
- 추가 HTTP 헤더를 사용해 한 출처에서 실행 중인 웹 어플리케이션이 다른 출처의 선택한 자원에 접근할 수 있는 권한을 부여
</div>
</ul>
</div>
</details>
<br>

### 💡 추가로 공부해 온 내용
<details>
<summary><strong>HTTP의 특징에 대해 설명해주세요.</strong></summary>
<div markdown="1">
<ul>
<div>

### HTTP 프로토콜

- Hyper Text Transfer Protocol
- 데이터를 주고 받기 위한 프로토콜
- 평문 데이터를 전송하는 프로토콜
- 서버/클라이언트 모델

### 특징

1. Connectionless 프로토콜 (비연결 지향)
    
    클라이언트가 서버에 요청(Request)을 했을 때, 그 요청에 맞는 응답(Response)을 보낸 후 연결을 끊는 처리 방식
    
2. Stateless 프로토콜
    
    커넥션을 끊는 순간 클라이언트와 서버의 통신이 끝나며 상태 정보는 유지하지 않는 특성
    

⇒ 가끔씩 이 '상태'에 대한 저장이 필요한 경우가 있어서 쿠키와 세션이 등장
</div>
</ul>
</div>
</details>
